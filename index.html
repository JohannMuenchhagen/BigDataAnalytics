<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>BigDataAnalytics</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        /* Verbesserte Touch-Unterst√ºtzung */
        a-scene {
            touch-action: manipulation;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }
        
        /* Ensure AR scene receives touch events */
        body {
            touch-action: none;
        }
    </style>
</head>
<body style="margin: 0; overflow: hidden;">

<!-- Container for message boxes -->
<div id="messageContainer" style="position: fixed; bottom: 200px; left: 20px; right: 20px; height: 300px; z-index: 1001; pointer-events: none; overflow: visible; display: flex; flex-direction: column; justify-content: flex-end;">
</div>

<!-- Fadenkreuz in der Bildschirmmitte -->
<div id="crosshair" style="position: fixed; 
                           top: 50%; 
                           left: 50%; 
                           transform: translate(-50%, -50%); 
                           z-index: 1000; 
                           pointer-events: none;
                           width: 30px; 
                           height: 30px;">
    <!-- Horizontale Linie -->
    <div style="position: absolute; 
                top: 50%; 
                left: 20%; 
                width: 60%; 
                height: 2px; 
                background-color: rgba(255, 255, 255, 0.8); 
                transform: translateY(-50%);
                box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);">
    </div>
    <!-- Vertikale Linie -->
    <div style="position: absolute; 
                left: 50%; 
                top: 20%; 
                width: 2px; 
                height: 60%; 
                background-color: rgba(255, 255, 255, 0.8); 
                transform: translateX(-50%);
                box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);">
    </div>
    <!-- Mittelpunkt -->
    <div style="position: absolute; 
                top: 50%; 
                left: 50%; 
                width: 4px; 
                height: 4px; 
                background-color: rgba(255, 255, 255, 0.9); 
                border-radius: 50%; 
                transform: translate(-50%, -50%);
                box-shadow: 0 0 4px rgba(0, 0, 0, 0.7);">
    </div>
</div>

<a-scene embedded arjs="trackingMethod: best; sourceType: webcam; detectionMode: mono; maxDetectionRate: 30; canvasWidth: 1280; canvasHeight: 960; debugUIEnabled: false;">

    <a-marker type="pattern" url="marker/pattern.patt" smooth="true" smoothCount="10" smoothTolerance="0.05" smoothThreshold="2" id="hiroMarker">
        <!-- Wenns nicht geht dann einfach bei hiro belassen-->
    <a-text id="distanz" rotation="-90 0 0" color="red"></a-text>
        <!--<a-image id="clickableImage"
                 src="image/tree.png"
                 position="0 1 0"
                 rotation="-90 0 0"
                 class="raycastable-false"
                 width="2"
                 height="2">

        </a-image>-->
    </a-marker>
    <!-- Optimized for mobile touch without visible cursor -->
    <a-entity camera
              cursor=" fuse:false;
                 rayOrigin: mouse;
                 objects: .clickable;
                 fuse: false;
                 intersectionTolerance: 5;
                 mouseCursorStylesEnabled: false;
                interval: 100;
                far: 100;
                near: 0.1; linePrecision: 2;">

    </a-entity>
</a-scene>
<script src="/main.js"></script>
</body>
</html>